<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Lifeboat Map Listing - ResourcePile</title>

        <link href="../assets/css/bootstrap.css" rel="stylesheet">
        <link href="../assets/css/main.css" rel="stylesheet">
        <link href="../assets/css/gamemodes.css" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="../assets/js/bootstrap.min.js"></script>
        <script src="../assets/js/gitzip-api.js"></script>
        <script src="../assets/js/FileSaver.js"></script>
        <script src="../assets/js/jszip.js"></script>
        <script src="../assets/js/handlebars.js"></script>
        <script src="../assets/js/jquery.searchable-1.1.0.min.js"></script>
        <script src="../assets/materials/lifeboat/map-listing.js"></script>
        <script id="maps-template" type="text/x-handlebars-template">
            <div class="dynamic">
            {{#maps}}
                <div class="col-sm-6 col-lg-3 map-thumbnail center">
                    <div id="{{id}}" class="thumbnail map-float">
                        <div class="map-image" style="background-image: url(&quot;https://maps.oc.tc/{{#if path}}{{path}}/map.png{{else}}404.png{{/if}}&quot;);">
                            <div class="map-banner">
                                <a class="map-header map-searchable" href="https://mcresourcepile.github.io/stattrack/lifeboat/bow?s={{slug}}"><strong>{{#if map}}<span class="map-featured">{{map}}</span>{{else}}<span class="map-featured">Untitled Map</span>{{/if}}</strong></a>
                                {{#unless locked}}
                                    {{#if slug}}
                                    <a href="https://oc.tc/maps/{{slug}}" target="_blank" class="pull-right external-thread-size" data-toggle="tooltip" data-placement="top" title="Lifeboat&nbsp;PC"><i class="external-thread fa fa-folder-open-o"></i></a>
                                    {{/if}}
                                    {{#if discussion}}
                                    <a href="{{discussion}}" target="_blank" class="pull-right external-thread-size" data-toggle="tooltip" data-placement="top" title="Discussion"><i class="external-thread fa fa-comments-o"></i></a>
                                    {{/if}}
                                    {{#if cardinal}}
                                    <a class="pull-right external-thread-size" data-toggle="tooltip" data-placement="top" title="Tested with Cardinal"><i class="external-thread fa fa-certificate"></i></a>
                                    {{/if}}
                                {{/unless}}
                                <span style="display:block;margin-top:-8px;">
                                    {{#if tags}}
                                        {{#tags}}
                                            {{#if arcade}}<li class="game-tag"><a class="game-link map-tag" href="?s=arcade">Arcade</a></li>{{/if}}
                                            {{#if blitz}}<li class="game-tag"><a class="game-link map-tag" href="?s=blitz">Blitz</a></li>{{/if}}
                                            {{#if cp}}<li class="game-tag"><a class="game-link map-tag" href="?s=cp">Capture Points</a><span class="tag_hidden">CP</span></li>{{/if}}
                                            {{#if ctf}}<li class="game-tag"><a class="game-link map-tag" href="?s=ctf">Capture the Flag</a><span class="tag_hidden">CTF</span></li>{{/if}}
                                            {{#if ctw}}<li class="game-tag"><a class="game-link map-tag" href="?s=ctw">Capture the Wool</a><span class="tag_hidden">CTW</span></li>{{/if}}
                                            {{#if dtc}}<li class="game-tag"><a class="game-link map-tag" href="?s=dtc">Destroy the Core</a><span class="tag_hidden">DTC</span></li>{{/if}}
                                            {{#if dtm}}<li class="game-tag"><a class="game-link map-tag" href="?s=dtm">Destroy the Monument</a><span class="tag_hidden">DTM</span></li>{{/if}}
                                            {{#if ffa}}<li class="game-tag"><a class="game-link map-tag" href="?s=ffa">Free-for-all</a><span class="tag_hidden">Free for all FFA</span></li>{{/if}}
                                            {{#if gs}}<li class="game-tag"><a class="game-link map-tag" href="?s=gs">Ghost Squadron</a><span class="tag_hidden">GS</span></li>{{/if}}
                                            {{#if koth}}<li class="game-tag"><a class="game-link map-tag" href="?s=koth">King of the Hill</a><span class="tag_hidden">KOTH</span></li>{{/if}}
                                            {{#if micro}}<li class="game-tag"><a class="game-link map-tag" href="?s=micro">Mirco</a><span class="tag_hidden">5x5</span></li>{{/if}}
                                            {{#if mixed}}<li class="game-tag"><a class="game-link map-tag" href="?s=mixed">Mixed</a></li>{{/if}}
                                            {{#if rage}}<li class="game-tag"><a class="game-link map-tag" href="?s=rage">Rage</a></li>{{/if}}
                                            {{#if ranked}}<li class="game-tag"><a class="game-link map-tag" href="?s=ranked">Ranked</a></li>{{/if}}
                                            {{#if rfw}}<li class="game-tag"><a class="game-link map-tag" href="?s=rfw">Race for Wool</a><span class="tag_hidden">RFW</span></li>{{/if}}
                                            {{#if skywars}}<li class="game-tag"><a class="game-link map-tag" href="?s=skywars">Skywars</a><span class="tag_hidden">SW</span></li>{{/if}}
                                            {{#if sg}}<li class="game-tag"><a class="game-link map-tag" href="?s=survival">Survival Games</a><span class="tag_hidden">SG</span></li>{{/if}}
                                            {{#if tdm}}<li class="game-tag"><a class="game-link map-tag" href="?s=tdm">Team Deathmatch</a><span class="tag_hidden">Team Death Match TDM</span></li>{{/if}}
                                            {{#if tnt}}<li class="game-tag"><a class="game-link map-tag" href="?s=tdm">TNT</a></li>{{/if}}
                                            {{#if te}}<li class="game-tag"><a class="game-link map-tag" href="?s=tournament">Tournament</a><span class="tag_hidden">Tournament Edition TE</span></li>{{/if}}
                                            {{#if season}}<li class="game-tag"><a class="game-link map-tag" href="?s={{season}}">{{season}}</a></li>{{/if}}
                                            {{#if other}}<li class="game-tag"><a class="game-link map-tag" href="?s={{other}}">{{other}}</a></li>{{/if}}
                                            {{#if default}}<li class="game-tag"><span class="game-link map-tag">Unknown tags</span></li>{{/if}}
                                        {{/tags}}
                                        {{else}}<li class="game-tag"><span class="game-link map-tag">Unknown tags</span></li>
                                    {{/if}}
                                </span>
                            </div>
                            <div class="map-labels">
                                <span class="label label-default map-label">Slug ID: {{slug}}</span>
                            </div>
                        </div>
                        <div class="map-authors">
                            <span class="map-author-name">by</span>
                            {{#if authors}}
                                {{#authors}}
                                    <li class="game-tag author-tag">{{#if player_name}}<a class="map-author-name" href="?s={{player_name}}">{{player_name}}</a>{{else}}<span class="map-author-name">Ghost</span>{{/if}}</li>
                                {{/authors}}
                                {{else}}<span class="map-author-name">Ghost</span>
                            {{/if}}
                        </div>
                        <div style="padding-top:2%;" class="center">
                            {{#if locked}}
                                <span class="btn map-link-private map-button-span" role="button" data-toggle="tooltip" data-placement="top" title="This map has been locked"><i class="fa fa-lock"></i></span>
                                {{else}}
                                {{#if download}}
                                    <button href="#" class="btn map-link map-button" role="button" data-toggle="modal" data-target="#download-{{slug}}"><i class="fa fa-download"></i></button>
                                    <div class="modal fade" id="download-{{slug}}" tabindex="-1" role="dialog">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title">Downloading map files for {{#if map}}{{map}}{{else}}Untitiled Map{{/if}}</h4>
                                                    <div class="map-authors">
                                                        <span class="map-author-name">created by</span>
                                                        {{#if authors}}
                                                            {{#authors}}<li class="game-tag">{{#if player_name}}<img src="https://crafatar.com/avatars/{{#if player_uuid}}{{player_uuid}}{{else}}{{player_name}}{{/if}}?size=16"> <a class="map-author-name" href="?s={{player_name}}">{{player_name}}</a>{{else}}<img class="map-author-avatar" src="https://crafatar.com/avatars/MHF_Question?size=16"> <span class="map-author-name">Ghost</span>{{/if}}</li>{{/authors}}
                                                            {{else}}<img class="map-author-avatar" src="https://crafatar.com/avatars/MHF_Question?size=16"> <span class="map-author-name">Ghost</span>
                                                        {{/if}}
                                                    </div>
                                                </div>
                                                <div class="modal-body">
                                                    {{#if BY_SA}}
                                                        This download for {{#if map}}{{map}}{{else}}Untitiled Map{{/if}} and other files included in this download are licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank">Creative Commons Attribution-ShareAlike 3.0</a> (CC BY-SA) license. The complete legal code for this license can be found <a href="https://creativecommons.org/licenses/by-sa/3.0/legalcode" target="_blank">here</a>. Please read and understand what this license means before downloading any content from this page.
                                                        <br><br>
                                                        <a href="https://creativecommons.org/licenses/by-sa/3.0/legalcode" target="_blank">
                                                            <img src="http://i1.wp.com/mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png?resize=85%2C30">
                                                        </a>
                                                        <br>
                                                        You will be downloading the version of {{#if map}}{{map}}{{else}}Untitiled Map{{/if}} that has been provided to ResourcePile, not the original. {{#if cardinal}}This map may have been edited to work on a Cardinal server.{{/if}} {{#if discussion}}If you would prefer to download this map from the original location, please visit the map's <a href="{{discussion}}" target="_blank">discussion thread</a>.{{/if}}
                                                        <br><br>
                                                        <small>By clicking 'Download' you agree to the conditions of the <a href="https://creativecommons.org/licenses/by-sa/3.0/legalcode" target="_blank">CC BT-SA</a> license.<br> If you do not agree with these terms, click 'Close' <strong>now</strong>.</small>
                                                    {{/if}}
                                                    {{#if BY_NC_SA}}
                                                        This download for {{#if map}}{{map}}{{else}}Untitiled Map{{/if}} and other files included in this download are licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0</a> (CC BY-NC-SA) license. The complete legal code for this license can be found <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/legalcode" target="_blank">here</a>. Please read and understand what this license means before downloading any content from this page.
                                                        <br><br>
                                                        <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/legalcode" target="_blank">
                                                            <img src="http://i1.wp.com/mirrors.creativecommons.org/presskit/buttons/88x31/png/by-nc-sa.png?resize=85%2C30">
                                                        </a>
                                                        <br>
                                                        You will be downloading the version of {{#if map}}{{map}}{{else}}Untitiled Map{{/if}} that has been provided to ResourcePile, not the original. {{#if cardinal}}This map may have been edited to work on a Cardinal server.{{/if}} {{#if discussion}}If you would prefer to download this map from the original location, please visit the map's <a href="{{discussion}}" target="_blank">discussion thread</a>.{{/if}}
                                                        <br><br>
                                                        <small>By clicking 'Download' you agree to the conditions of the <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/legalcode" target="_blank">CC BT-NC-SA</a> license.<br> If you do not agree with these terms, click 'Close' <strong>now</strong>.</small>
                                                    {{/if}}
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" onclick="GitZip.zipRepo(&quot;https://github.com/MCResourcePile/MapStack-LifeboatPC/tree/master/maps/{{slug}}&quot;);$('#download-{{slug}}').modal('hide')" data-toggle="modal" data-target="#download-complete-message" class="btn map-link">Download</button>
                                                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {{else}}
                                    <span class="btn map-link-disabled map-button"><i class="fa fa-download"></i></span>
                                {{/if}}
                                {{#if xml}}
                                    <a href="https://github.com/MCResourcePile/MapStack-LifeboatPC/raw/master/maps/{{slug}}/map.xml" target="_blank" class="btn map-link map-button" role="button"><i class="fa fa-code"></i></a>
                                    {{else}}
                                    <span class="btn map-link-disabled map-button"><i class="fa fa-code"></i></span>
                                {{/if}}
                            {{/if}}
                        </div>
                    </div>
                </div>
            {{/maps}}
            </div>
        </script>
    </head>
    <body>
        <div class="container">
            <!-- Page navigation -->
            <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="../../index"><span class="fa fa-folder-open" style="padding-right:6px;" aria-hidden="true"></span> ResourcePile</a>
                    </div>
                    <div class="collapse navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" href="#"><i class="fa fa-trophy"></i> StatTrack <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="../stattrack/lifeboat/bow"><span class="icon stat-bow-icon icon-dropdown"></span> Lifeboat PC Bow Records</a></li>
                                    <li><a href="../stattrack/avicus/bow"><span class="icon stat-bow-icon icon-dropdown"></span> Avicus Bow Records</a></li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" href="#"><i class="fa fa-cubes"></i> MapStack <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="../../mapstack/lifeboat"><i class="icon stat-map-icon"></i> Lifeboat PC Map Collection</a></li>
                                    <li><a href="../../mapstack/avicus"><i class="icon stat-map-icon"></i> Avicus Map Collection</a></li>
                                </ul>
                            </li>
                            <li><a href="../../info"><i class="fa fa-exclamation"></i> Info</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="content-header">
                <div class="content-title">Public Map Listing</div>
                <div class="content-subtitle">
                    A collection of publicly downloadable maps from the <a href="http://oc.tc">Lifeboat PC Network</a>.
                </div>
            </div>
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10 alert alert-info" style="margin-left: 18px;margin-right: 18px;" role="alert">
                    <h4><i class="fa fa-info-circle" aria-hidden="true"></i> &nbsp;Tip</h4>
                    <p>You can include this entire repository on your <a href="https://github.com/twizmwazin/CardinalPGM" target="_blank" class="underline">Cardinal server</a> by adding the following to the <code>repos:</code> section of the plugin configuration:</p>
                    <code>- git:https://github.com/MCResourcePile/MapStack-LifeboatPC.git</code><br>
                    <p>Please note that not all these maps will work correctly on Cardinal, so if you do find any errors please create an <a href="https://github.com/MCResourcePile/MapStack-LifeboatPC/issues/new" target="_blank" class="underline">Issue on our tracker</a>.</p>
                </div>
                <div class="col-md-1"></div>
            </div>
            <!-- Game mode navigation menu -->
            <form name="search_form" class="record-search-container">
                <input type="search" id="search" name="s" value="" class="form-control record-search-box" placeholder="Search maps">
            </form>
            <div class="game-mode-navigation row">
                <div class="col-xs-6 col-md-3">
                    <div class="game-mode-section-header">Objectives</div>
                    <a class="game-mode-button game_ctf" href="?s=ctf"></a>
                    <a class="game-mode-button game_ctw" href="?s=ctw"></a>
                    <a class="game-mode-button game_dtc" href="?s=dtc"></a>
                    <a class="game-mode-button game_dtm" href="?s=dtm"></a>
                    <a class="game-mode-button game_koth" href="?s=koth"></a>
                </div>
                <div class="col-xs-6 col-md-3">
                    <div class="game-mode-section-header">Deathmatch</div>
                    <a class="game-mode-button game_blitz" href="?s=blitz"></a>
                    <a class="game-mode-button game_rage" href="?s=rage"></a>
                    <a class="game-mode-button game_ffa" href="?s=ffa"></a>
                    <a class="game-mode-button game_skywars" href="?s=skywars"></a>
                    <a class="game-mode-button game_survival" href="?s=survival"></a>
                    <a class="game-mode-button game_tdm" href="?s=tdm"></a>
                </div>
                <div class="col-xs-6 col-md-3">
                    <div class="game-mode-section-header">Competitive</div>
                    <a class="game-mode-button game_ranked" href="?s=ranked"></a>
                    <a class="game-mode-button game_tournament" href="?s=tournament"></a>
                </div>
                <div class="col-xs-6 col-md-3">
                    <div class="game-mode-section-header">Other</div>
                    <a class="game-mode-button game_all" href="?s="></a>
                    <a class="game-mode-button game_arcade" href="?s=arcade"></a>
                    <a class="game-mode-button game_gs" href="?s=gs"></a>
                    <span class="game-mode-button">Licenses:</span>
                    <a class="game-mode-button license_by_nc_sa" href="?s=by-nc-sa"></a>
                    <a class="game-mode-button license_by_sa" href="?s=by-sa"></a>
                </div>
            </div>
            <div class="total-maps center"></div>
            <div id="maps-output"></div>
            <div class="modal fade" id="download-complete-message" tabindex="-1" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Your download will begin shortly...</h4>
                        </div>
                        <div class="modal-body">
                            Thank you for downloading this map from ResourcePile and supporting free public maps as well as the map authors.<br><br>
                            <small>If your download does not begin, an error may have occured or the map you are looking for may not exisit in our public repository yet. Please try again, but if the issue persists please report an issue on our <a href="https://github.com/MCResourcePile/MCResourcePile.github.io/issues/new" target="_blank">Issues Tracker</a>.</small>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                  <hr>
                  <footer>
                      <ul class="nav nav-pills">
                          <li class="resourcepile-copyright-year"></li>
                          <li class="pull-right"><a href="../revisions/website">Revisions</a></li>
                      </ul>
                  </footer>
                  <br>
                </div>
            </div>
        </div>
        <script>
            setTimeout(function () {
                $(function () {
                    $('[data-toggle="tooltip"]').tooltip()
                })
            }, 1000);
        </script>
        <script>
            setTimeout(function () {
                makeSearchable()
            }, 1000);

            $(document).on('ready', function(){
                makeSearchable()
            })

            $('.record-search-container').on('click', function(){
                makeSearchable()
            })
            
            $(document).on('keydown', function() {
                makeSearchable()
            });

            var total_maps = 0;
            var total_display = 0;
            
            function makeSearchable(){
                $('#maps-output .dynamic').searchable({
                    selector: 'div.map-thumbnail',
                    childSelector: '.map-float',
                    searchField: '#search'
                })
                
                total_maps = $('.dynamic').children('.map-thumbnail').length;
                total_display = $('.map-thumbnail:visible').length
                $(".total-maps").html("Currently displaying " + total_display + " of " + total_maps + " loaded maps");
            }
        </script>
        <script type="text/javascript">
            var data=location.search;
            if(data) {
                data=location.search.substring(1);
                data=data.split('&');
                var pairs={};
                for(var i=0; i<data.length; i++){
                    var tmp=data[i].split('=');
                    pairs[tmp[0]]=tmp[1];
                }
                var f = document.search_form;
                for (var i in pairs) {
                    if(f.elements[i]) {f.elements[i].value = pairs[i];}
                }
            }
        </script>
    </body>
</html>
